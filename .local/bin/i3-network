#!/bin/bash

print_available() {
	
	if wget -q --spider "https://www.google.com/"; then
		ip=$(dig +short myip.opendns.com @resolver1.opendns.com)
		printf "<span color='%s'>\\uF33D</span> %s\n" "#$I3C_GREEN" "$ip"
	else
		printf "<span color='%s'>\\uF22A No Internet</span>\n" "#$I3C_RED"
	fi
}


case "$BLOCK_BUTTON" in
	1)	sudo ip link set wlp2s0 down
		sleep 1
		sudo ip link set wlp2s0 up
		sleep 1
		print_available
		notify-send "Restarted network" ;;
	3)	$TERMINAL "$SHELL" -c 'nmtui'
		print_available ;;
	*)	print_available
esac
